schema: '2.0'
stages:
  ingest:
    cmd: python data_ingestion/jd_ingestion/serp_api/serpapi_ingest.py
    deps:
    - path: data/constants/jobs.csv
      hash: md5
      md5: cf38cf334553d9dcebf25534e11256f0
      size: 1620
    - path: data/constants/locations.yaml
      hash: md5
      md5: 835e0ab1523ebc559cd6476ed54c3dd4
      size: 213
    - path: data_ingestion/jd_ingestion/serp_api/priority_scheduler.py
      hash: md5
      md5: 9302748c69dea3e928b2599a58c27e02
      size: 930
    - path: data_ingestion/jd_ingestion/serp_api/serpapi_client.py
      hash: md5
      md5: e89cfdf758c0788f920dab384063a142
      size: 827
    - path: data_ingestion/jd_ingestion/serp_api/serpapi_ingest.py
      hash: md5
      md5: 1635b1dd8de0dac9be5c2ee6bf13c6c2
      size: 5859
    - path: utils
      hash: md5
      md5: c253a5aee7e498485185a4912f88b3fb.dir
      size: 3493
      nfiles: 3
    - path: utils/paths.py
      hash: md5
      md5: 0728473125972b07483ab41af3ade3f4
      size: 2243
    params:
      params.yaml:
        ingest.current_month: '2026-01-28'
        serpapi_ingestion:
          max_api_calls: 255
    outs:
    - path: data/raw/serpapi/2026-01-28
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  process_jd_raw_jsons:
    cmd: python data_ingestion\processors\process_data.py
    deps:
    - path: data/raw/serpapi/2026-01
      hash: md5
      md5: 2b65a77b0001cf597dd612b3882d88e5.dir
      size: 10282108
      nfiles: 97
    - path: data_ingestion/processors/process_data.py
      hash: md5
      md5: 453dfe6d8e90ad9220c78693c06d0d8d
      size: 8766
    - path: utils/
      hash: md5
      md5: 442a35134c6ac9d304e03d3308c0626c.dir
      size: 3356
      nfiles: 3
    outs:
    - path: data/processed/serpapi/2026-01.csv
      hash: md5
      md5: 6ec92ed3c00f8d6681d4e6fbae8ce2bb
      size: 4075878
  label_scraped_jobs:
    cmd: python src/label_jobs.py
    deps:
    - path: data/processed/serpapi/2026-01.csv
      hash: md5
      md5: 6ec92ed3c00f8d6681d4e6fbae8ce2bb
      size: 4075878
    - path: src/label_jobs.py
      hash: md5
      md5: 0fe36dad5021323bc6fa6ce1cc766b00
      size: 3061
    - path: utils/
      hash: md5
      md5: 442a35134c6ac9d304e03d3308c0626c.dir
      size: 3356
      nfiles: 3
    outs:
    - path: data/final/serpapi/2026-01.csv
      hash: md5
      md5: 591dacfb99207cad60180040e0b47961
      size: 4084699
  build_vector_store:
    cmd: python src/vector_db/ingest.py
    deps:
    - path: data/final/serpapi/2026-01.csv
      hash: md5
      md5: 591dacfb99207cad60180040e0b47961
      size: 4084699
    - path: src/vector_db/client.py
      hash: md5
      md5: f8df9bfc66b087d9878434f5617da150
      size: 1618
    - path: src/vector_db/encoder.py
      hash: md5
      md5: 13f005c12e5ce7df1de7cde13d8b1660
      size: 3964
    - path: src/vector_db/ingest.py
      hash: md5
      md5: fb509e52fe713651ea5109e5bd6aa561
      size: 5650
    - path: utils/
      hash: md5
      md5: 442a35134c6ac9d304e03d3308c0626c.dir
      size: 3356
      nfiles: 3
    params:
      params.yaml:
        ingest.current_month: 2026-01
    outs:
    - path: data/final/serpapi/2026-01.vector_done
      hash: md5
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
