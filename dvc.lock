schema: '2.0'
stages:
  ingest:
    cmd: python data_ingestion/jd_ingestion/serp_api/serpapi_ingest.py
    deps:
    - path: data/constants/jobs.csv
      hash: md5
      md5: cf38cf334553d9dcebf25534e11256f0
      size: 1620
    - path: data/constants/locations.yaml
      hash: md5
      md5: 835e0ab1523ebc559cd6476ed54c3dd4
      size: 213
    - path: data_ingestion/jd_ingestion/serp_api/priority_scheduler.py
      hash: md5
      md5: 9302748c69dea3e928b2599a58c27e02
      size: 930
    - path: data_ingestion/jd_ingestion/serp_api/serpapi_client.py
      hash: md5
      md5: e89cfdf758c0788f920dab384063a142
      size: 827
    - path: data_ingestion/jd_ingestion/serp_api/serpapi_ingest.py
      hash: md5
      md5: 108ad826a6485aa45181bfde26d89db4
      size: 5861
    - path: utils
      hash: md5
      md5: eaf404e111306bf0d6571024a2271283.dir
      size: 2557
      nfiles: 3
    - path: utils/paths.py
      hash: md5
      md5: 52738ca3e488c5e5073ac0e3ae69b3a3
      size: 1444
    params:
      params.yaml:
        ingest.current_month: 2026-01
        serpapi_ingestion:
          max_api_calls: 255
    outs:
    - path: data/raw/serpapi/2026-01
      hash: md5
      md5: 2b65a77b0001cf597dd612b3882d88e5.dir
      size: 10282108
      nfiles: 97
  process_jd_raw_jsons:
    cmd: python data_ingestion\processors\process_data.py
    deps:
    - path: data/raw/serpapi/2026-01
      hash: md5
      md5: 2b65a77b0001cf597dd612b3882d88e5.dir
      size: 10282108
      nfiles: 97
    - path: data_ingestion/processors/process_data.py
      hash: md5
      md5: 453dfe6d8e90ad9220c78693c06d0d8d
      size: 8766
    - path: utils/
      hash: md5
      md5: eaf404e111306bf0d6571024a2271283.dir
      size: 2557
      nfiles: 3
    outs:
    - path: data/processed/serpapi/2026-01.csv
      hash: md5
      md5: 6ec92ed3c00f8d6681d4e6fbae8ce2bb
      size: 4075878
  label_scraped_jobs:
    cmd: python src/label_jobs.py
    deps:
    - path: data/processed/serpapi/2026-01.csv
      hash: md5
      md5: 6ec92ed3c00f8d6681d4e6fbae8ce2bb
      size: 4075878
    - path: src/label_jobs.py
      hash: md5
      md5: 0fe36dad5021323bc6fa6ce1cc766b00
      size: 3061
    - path: utils/
      hash: md5
      md5: eaf404e111306bf0d6571024a2271283.dir
      size: 2557
      nfiles: 3
    outs:
    - path: data/final/serpapi/2026-01.csv
      hash: md5
      md5: 591dacfb99207cad60180040e0b47961
      size: 4084699
